
: NOP
	NOP LDH STRB
	LDH 1 ADD STRH
;


: JMP
	LIT LDH STRB
	LDH 1 ADD STRH
	LDH
	LDH CSZ ADD STRH
	JMP LDH STRB
	LDH 1 ADD STRH
;

: JZ
	LIT LDH STRB
	LDH 1 ADD STRH
	LDH
	LDH CSZ ADD STRH
	JZ LDH STRB
	LDH 1 ADD STRH
;


: CALL
	CALL LDH STRB
	LDH 1 ADD STRH
;


: RET
	RET LDH STRB
	LDH 1 ADD STRH
;



: IMMEDIATE LDL CSZ ADD DUP LDB 1 6 SHL OR SWAP STRB ;
: VISIBLE LDL CSZ ADD DUP LDB 1 7 SHL OR SWAP STRB ; IMMEDIATE
: SELF
	LDL CSZ ADD LDB 31 AND 
	LDL CSZ ADD 1 ADD ADD
	JMP STRC
; IMMEDIATE


: IF JZ ; IMMEDIATE

: THEN LDH SWAP STRC ; IMMEDIATE

: ELSE LDH CSZ ADD 2 ADD SWAP STRC JMP ; IMMEDIATE


: ( KEY 41 NEQ IF SELF THEN ; IMMEDIATE
: \ KEY 10 NEQ IF SELF THEN ; IMMEDIATE


: EXIT RET ; IMMEDIATE
: BYE HALT ;



